@page "/component20"
@using System.Diagnostics

@for (int i = 0; i < count; i++)
{
    int j = i;
    <Heading @ref="HeadingRef">@j</Heading>
}

<MyButtonComponent OnClick="HandleClick">Refresh</MyButtonComponent>

@code
{
    int count = 5;

    List<Heading> headings = new List<Heading>();
    Heading HeadingRef
    {
        set { headings.Add(value); }
    }

    private void HandleClick()
    {
        count += 1;
    }

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        Debugger.Break();
    }
}